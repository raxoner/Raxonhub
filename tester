local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")

local player = Players.LocalPlayer
local jobId = game.JobId  -- Mengambil Job ID Server Saat Ini

-- Membuat UI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.CoreGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 350, 0, 550)  -- Perbaikan ukuran agar UI muat
frame.Position = UDim2.new(0.5, -175, 0.5, -250)
frame.BackgroundColor3 = Color3.fromRGB(0, 122, 255)  
frame.Parent = screenGui

-- Tombol Minimize
local minimizeButton = Instance.new("TextButton")
minimizeButton.Text = "âˆ’"
minimizeButton.Size = UDim2.new(0, 30, 0, 30)
minimizeButton.Position = UDim2.new(1, -35, 0, 5)
minimizeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
minimizeButton.Parent = frame

-- Tombol Hapus UI
local removeUIButton = Instance.new("TextButton")
removeUIButton.Text = "X"
removeUIButton.Size = UDim2.new(0, 30, 0, 30)
removeUIButton.Position = UDim2.new(1, -70, 0, 5)  
removeUIButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
removeUIButton.Parent = frame

local copyJobButton = Instance.new("TextButton")
copyJobButton.Text = "Copy Job ID"
copyJobButton.Size = UDim2.new(1, -20, 0, 40)
copyJobButton.Position = UDim2.new(0, 10, 0, 40)
copyJobButton.BackgroundColor3 = Color3.fromRGB(30, 144, 255)
copyJobButton.Parent = frame

local joinJobButton = Instance.new("TextButton")
joinJobButton.Text = "Join by Job ID"
joinJobButton.Size = UDim2.new(1, -20, 0, 40)
joinJobButton.Position = UDim2.new(0, 10, 0, 90)
joinJobButton.BackgroundColor3 = Color3.fromRGB(30, 144, 255)
joinJobButton.Parent = frame

local hopServerButton = Instance.new("TextButton")
hopServerButton.Text = "Hop Server"
hopServerButton.Size = UDim2.new(1, -20, 0, 40)
hopServerButton.Position = UDim2.new(0, 10, 0, 140)
hopServerButton.BackgroundColor3 = Color3.fromRGB(30, 144, 255)
hopServerButton.Parent = frame

local rejoinButton = Instance.new("TextButton")
rejoinButton.Text = "Rejoin Server"
rejoinButton.Size = UDim2.new(1, -20, 0, 40)
rejoinButton.Position = UDim2.new(0, 10, 0, 190)
rejoinButton.BackgroundColor3 = Color3.fromRGB(30, 144, 255)
rejoinButton.Parent = frame

local jobIdTextBox = Instance.new("TextBox")
jobIdTextBox.Size = UDim2.new(1, -20, 0, 30)
jobIdTextBox.Position = UDim2.new(0, 10, 0, 240)
jobIdTextBox.Text = "Masukkan Job ID"
jobIdTextBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
jobIdTextBox.TextColor3 = Color3.fromRGB(0, 0, 0)
jobIdTextBox.Parent = frame

-- Scan Players
local scanPlayerButton = Instance.new("TextButton")
scanPlayerButton.Text = "Scan Players"
scanPlayerButton.Size = UDim2.new(1, -20, 0, 40)
scanPlayerButton.Position = UDim2.new(0, 10, 0, 280)
scanPlayerButton.BackgroundColor3 = Color3.fromRGB(30, 144, 255)
scanPlayerButton.Parent = frame

local scanResults = Instance.new("TextLabel")
scanResults.Size = UDim2.new(1, -20, 0, 100)
scanResults.Position = UDim2.new(0, 10, 0, 330)
scanResults.Text = "Hasil Scan: -"
scanResults.TextColor3 = Color3.fromRGB(255, 255, 255)
scanResults.BackgroundTransparency = 1
scanResults.Parent = frame

-- Tombol Hapus Hasil Scan (Sudah dipindahkan)
local removeScanButton = Instance.new("TextButton")
removeScanButton.Text = "Hapus Hasil Scan"
removeScanButton.Size = UDim2.new(1, -20, 0, 40)
removeScanButton.Position = UDim2.new(0, 10, 0, 440)  -- Dipindahkan ke bawah hasil scan
removeScanButton.BackgroundColor3 = Color3.fromRGB(255, 69, 0)
removeScanButton.Parent = frame

-- Tombol Loadstring
local loadStringButton = Instance.new("TextButton")
loadStringButton.Text = "Loadstring"
loadStringButton.Size = UDim2.new(1, -20, 0, 40)
loadStringButton.Position = UDim2.new(0, 10, 0, 490)
loadStringButton.BackgroundColor3 = Color3.fromRGB(255, 140, 0)
loadStringButton.Parent = frame

-- TextBox untuk Loadstring
local luaCodeTextBox = Instance.new("TextBox")
luaCodeTextBox.Size = UDim2.new(1, -20, 0, 60)
luaCodeTextBox.Position = UDim2.new(0, 10, 0, 540)
luaCodeTextBox.Text = "Masukkan kode Lua di sini"
luaCodeTextBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
luaCodeTextBox.TextColor3 = Color3.fromRGB(0, 0, 0)
luaCodeTextBox.ClearTextOnFocus = true
luaCodeTextBox.Parent = frame

-- Fungsi Loadstring
loadStringButton.MouseButton1Click:Connect(function()
    local luaCode = luaCodeTextBox.Text
    if luaCode and luaCode ~= "" then
        local func, err = loadstring(luaCode)
        if func then
            local success, result = pcall(func)
            if not success then
                print("Error dalam kode Lua:", result)
            end
        else
            print("Error dalam loadstring:", err)
        end
    else
        print("Masukkan kode Lua yang valid!")
    end
end)

-- Fungsi Scan Players
scanPlayerButton.MouseButton1Click:Connect(function()
    local playersInServer = {}
    for _, otherPlayer in pairs(Players:GetPlayers()) do
        table.insert(playersInServer, otherPlayer.Name)
    end
    scanResults.Text = "Pemain di Server: " .. table.concat(playersInServer, ", ")
end)

-- Fungsi Hapus Hasil Scan
removeScanButton.MouseButton1Click:Connect(function()
    scanResults.Text = "Hasil Scan: -"
end)
