-- Pastikan script dijalankan di LocalScript
local player = game.Players.LocalPlayer
local playerGui = player:FindFirstChild("PlayerGui")

if not playerGui then
    warn("Tidak ditemukan PlayerGui!")
    return
end

-- Nama file untuk menyimpan password
local passwordFile = "SuperCapy/password.txt"
makefolder("SuperCapy") -- Membuat folder jika belum ada
local defaultPassword = "WargaCapy456"

-- Cek apakah password sudah tersimpan
local savedPassword
if isfile(passwordFile) then
    savedPassword = readfile(passwordFile)
else
    writefile(passwordFile, defaultPassword)
    savedPassword = defaultPassword
end

-- UI Login
local LoginGUI = Instance.new("ScreenGui")
LoginGUI.Name = "SuperCapyLogin"
LoginGUI.Parent = playerGui

local LoginFrame = Instance.new("Frame")
LoginFrame.Size = UDim2.new(0, 400, 0, 200)
LoginFrame.Position = UDim2.new(0.5, -200, 0.5, -100)
LoginFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
LoginFrame.BorderSizePixel = 5
LoginFrame.BorderColor3 = Color3.fromRGB(255, 165, 0)
LoginFrame.Parent = LoginGUI

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Text = "SuperCapy Login"
Title.TextSize = 24
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Parent = LoginFrame

local PasswordBox = Instance.new("TextBox")
PasswordBox.Size = UDim2.new(0.8, 0, 0, 40)
PasswordBox.Position = UDim2.new(0.1, 0, 0.4, 0)
PasswordBox.PlaceholderText = "Masukkan Password"
PasswordBox.Text = ""
PasswordBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
PasswordBox.BorderSizePixel = 2
PasswordBox.BorderColor3 = Color3.fromRGB(255, 165, 0)
PasswordBox.TextColor3 = Color3.fromRGB(255, 255, 255)
PasswordBox.Parent = LoginFrame

local LoginButton = Instance.new("TextButton")
LoginButton.Size = UDim2.new(0.8, 0, 0, 40)
LoginButton.Position = UDim2.new(0.1, 0, 0.7, 0)
LoginButton.Text = "Login"
LoginButton.TextSize = 18
LoginButton.BackgroundColor3 = Color3.fromRGB(100, 250, 100)
LoginButton.BorderSizePixel = 2
LoginButton.BorderColor3 = Color3.fromRGB(0, 255, 0)
LoginButton.Parent = LoginFrame

-- Tombol X untuk Menutup UI Login
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0.1, 0, 0.1, 0)
CloseButton.Position = UDim2.new(0.9, 0, 0, 0)
CloseButton.Text = "X"
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
CloseButton.TextSize = 18
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Parent = LoginFrame

-- Fungsi untuk Menutup UI Login
CloseButton.MouseButton1Click:Connect(function()
    LoginGUI:Destroy()
end)

-- Fungsi Verifikasi Password
local function verifyPassword()
    if PasswordBox.Text == savedPassword then
        print("Login Berhasil!")
        LoginGUI:Destroy()
        loadSuperCapyUI()
    else
        print("Password Salah!")
    end
end

LoginButton.MouseButton1Click:Connect(verifyPassword)

-- Fungsi Memuat UI SuperCapy
function loadSuperCapyUI()
    local SuperCapyUI = Instance.new("ScreenGui")
    SuperCapyUI.Name = "SuperCapyUI"
    SuperCapyUI.Parent = playerGui

    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 400, 0, 450)
    MainFrame.Position = UDim2.new(0.5, -200, 0.5, -225)
    MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    MainFrame.BorderSizePixel = 5
    MainFrame.BorderColor3 = Color3.fromRGB(255, 165, 0)
    MainFrame.Parent = SuperCapyUI

    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.Text = "SuperCapy Hub"
    Title.TextSize = 24
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.BackgroundTransparency = 1
    Title.Parent = MainFrame

    -- Tombol Auto Farm
    local AutoFarmButton = Instance.new("TextButton")
    AutoFarmButton.Size = UDim2.new(0.8, 0, 0, 50)
    AutoFarmButton.Position = UDim2.new(0.1, 0, 0.2, 0)
    AutoFarmButton.BackgroundColor3 = Color3.fromRGB(50, 150, 250)
    AutoFarmButton.Text = "Auto Farm: OFF"
    AutoFarmButton.TextSize = 20
    AutoFarmButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    AutoFarmButton.Parent = MainFrame

    -- Tombol Minimize UI
    local MinimizeButton = Instance.new("TextButton")
    MinimizeButton.Size = UDim2.new(0.2, 0, 0, 40)
    MinimizeButton.Position = UDim2.new(0.8, 0, 0, 0)
    MinimizeButton.Text = "_"
    MinimizeButton.TextSize = 20
    MinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
    MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    MinimizeButton.Parent = MainFrame

    local minimized = false

    -- Fungsi untuk Minimize UI
    MinimizeButton.MouseButton1Click:Connect(function()
        if minimized then
            MainFrame.Size = UDim2.new(0, 400, 0, 450)
            MinimizeButton.Text = "_"
        else
            MainFrame.Size = UDim2.new(0, 400, 0, 40)
            MinimizeButton.Text = "+"
        end
        minimized = not minimized
    end)

    -- Fungsi Auto Farm
    local autoFarming = false
    AutoFarmButton.MouseButton1Click:Connect(function()
        autoFarming = not autoFarming
        if autoFarming then
            AutoFarmButton.Text = "Auto Farm: ON"
            startAutoFarm()
        else
            AutoFarmButton.Text = "Auto Farm: OFF"
            stopAutoFarm()
        end
    end)

    -- Fungsi untuk menjalankan Auto Farm
    function startAutoFarm()
        -- Ganti dengan logika Auto Farm yang sesuai di sini
        -- Misalnya, menggunakan karakter untuk memukul musuh secara otomatis
        local enemy = game.Workspace:WaitForChild("Enemy") -- Ganti dengan objek musuh
        while autoFarming do
            -- Contoh tindakan otomatis
            if enemy and enemy:FindFirstChild("Humanoid") then
                player.Character:MoveTo(enemy.HumanoidRootPart.Position)
                wait(0.5) -- Tunggu setengah detik sebelum menyerang lagi
                fireclickdetector(enemy:FindFirstChildOfClass("ClickDetector"))
            end
            wait(1) -- Jeda antar aksi
        end
    end

    -- Fungsi untuk menghentikan Auto Farm
    function stopAutoFarm()
        -- Berhenti melakukan auto farm jika diperlukan
        -- Kamu bisa menambahkan logika tambahan di sini
    end
end
